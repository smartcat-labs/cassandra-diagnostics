# Reporters
reporters:
  - reporter: io.smartcat.cassandra.diagnostics.report.LogQueryReporter
  - reporter: io.smartcat.cassandra.diagnostics.report.RiemannQueryReporter
    options:
      riemannHost: 127.0.0.1
      riemannPort: 5555 #Optional
  - reporter: io.smartcat.cassandra.diagnostics.report.InfluxQueryReporter
    options:
      influxDbAddress: http://127.0.0.1:8086
      influxUsername: username #Optional
      influxPassword: password #Optional
      influxDbName: cassandradb #Optional
      influxRetentionPolicy: default #Optional

# Modules
modules:
  - module: io.smartcat.cassandra.diagnostics.module.heartbeat.HeartbeatModule
    options:
      period: 15
      timeunit: MINUTES
    reporters:
      - io.smartcat.cassandra.diagnostics.report.LogQueryReporter
  - module: io.smartcat.cassandra.diagnostics.module.slowquery.SlowQueryModule
    measurement: queryReport
    options:
      # Slow query threshold
      slowQueryThresholdInMilliseconds: 25
      # Log all queries or just slow queries
      logAllQueries: false
  - module: io.smartcat.cassandra.diagnostics.module.requestrate.RequestRateModule
    measurement: requestRate
    options:
      period: 1
      timeunit: SECONDS
      separateByRequestType: true
    reporters:
      - io.smartcat.cassandra.diagnostics.report.LogQueryReporter
      - io.smartcat.cassandra.diagnostics.report.InfluxQueryReporter
